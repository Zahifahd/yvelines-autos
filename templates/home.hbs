<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="home.css">
  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
  <style>
    /* Style pour la classe profile-image */
.profile-image {
  width: 40px; /* Ajustez la largeur de l'image selon vos préférences */
  height: 40px; /* Ajustez la hauteur de l'image selon vos préférences */
  border-radius: 50%; /* Pour créer une forme d'avatar circulaire */
  margin-right: 10px; /* Ajoutez une marge à droite pour séparer l'image du nom d'utilisateur */
}

/* Style pour la classe username */
.username {
  font-size: 16px; /* Ajustez la taille de la police selon vos préférences */
  font-weight: bold; /* Optionnel : mettez en gras le nom d'utilisateur */
  margin: 0; /* Assurez-vous qu'il n'y a pas de marge autour du nom d'utilisateur */
}

    .sidebar {
      width: 300px; /* Largeur initiale de la sidebar ouverte */
      transition: width 0.3s ease; /* Animation fluide de la transition */
    }

    .sidebar.close {
      width: 88px; /* Largeur minimale de la sidebar fermée */
    }

    .main-content {
      width: calc(100% - 250px); /* Largeur de la partie droite lorsque la sidebar est ouverte */
      transition: width 0.3s ease; /* Animation fluide de la transition */
    }

    .sidebar.close ~ .main-content {
      width: calc(100% - 88px); /* Largeur de la partie droite lorsque la sidebar est fermée */
    }
    .username {
        color: white; /* Définit la couleur du texte en blanc */
    }
  </style>
</head>

<body>
  <body>

<header>
  <nav class="top-navbar">
    
    <ul class="top-nav-links">
      <li><a href="Apropos">À Propos</a></li>
      <li><a href="/connexion">Admin</a></li>
      <li><a href="support">Contact</a></li>
    </ul>

    <div class="social-links">
    

      <img src="logo.jpg" width="100px">
    </div>
  
<!-- Modifier votre code pour inclure l'image de profil à côté du nom d'utilisateur -->
<div class="user-info">
  <img src="{{ userImage }}" alt="Photo de profil" class="profile-image">
<p class="username">{{ username }}</p>
</div>



  </nav>
</header>

  <nav class="sidebar open">
    <!-- Contenu de la sidebar -->
    <header>
      <div class="image-text">
        <span class="image">
          <img src="logo.jpg" alt="">
        </span>

        <div class="text logo-text">
          <span class="name">Yvelines-Auto</span>
          <span class="profession">Concessionnaire Auto</span>
        </div>
      </div>

      <i class='bx bx-chevron-right toggle'></i>
    </header>

    <div class="menu-bar">
      <div class="menu">

       <form action="/search" method="GET" class="search-form" id="searchForm">
       <li class="search-box">
                    <i class='bx bx-search icon'></i>
                    <input type="text" id="brand" name="brand"  required>
                </li>
</form>



        <ul class="menu-links">
          <li class="nav-link">
            <a href="home">
              <i class='bx bx-home-alt icon'></i>
              <span class="text nav-text">Acceuil</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="/favorites">
              <i class='bx bx-heart icon'></i>
              <span class="text nav-text">Likes</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="support">
              <i class='bx bx-support icon'></i>
              <span class="text nav-text">Support</span>
            </a>
          </li>

        </ul>
      </div>

<div class="bottom-content">
  <li class="logout">
    <a href="/logout"> <!-- Lien vers la route de déconnexion -->
      <i class='bx bx-log-out icon'></i>
      <span class="text nav-text">Logout</span>
    </a>
  </li>



  <li class="mode">
    <div class="sun-moon">
      <i class='bx bx-moon icon moon'></i>
      <i class='bx bx-sun icon sun'></i>
    </div>
    <span class="mode-text text">Dark mode</span>

    <div class="toggle-switch">
      <span class="switch"></span>
    </div>
  </li>
</div>

    </div>

  </nav>

  <section class="main-content">
        <div class="car-carousel swiper-container">
            <div class="swiper-wrapper">
                <!-- Chaque image est entourée d'une div swiper-slide -->
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=renault">
                        <img src="https://www.cdnlogo.com/logos/r/38/renault-2.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=peugeot">
                        <img src="https://www.cdnlogo.com/logos/p/58/peugeot.svg" width="90px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=tesla">
                        <img src="\tesla.jpeg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=mercedes">
                        <img src="https://www.cdnlogo.com/logos/m/35/mercedes-benz.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=kia">
                        <img src="https://www.cdnlogo.com/logos/k/45/kia.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=bmw">
                        <img src="https://www.cdnlogo.com/logos/b/27/bmw.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=citroen">
                        <img src="https://www.cdnlogo.com/logos/c/53/citroen.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=skoda">
                        <img src="https://www.cdnlogo.com/logos/s/38/skoda.svg" width="90px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=volkswagen">
                        <img src="https://www.cdnlogo.com/logos/v/35/volkswagen.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=fiat">
                        <img src="https://www.cdnlogo.com/logos/f/9/fiat.svg" width="130px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=opel">
                        <img src="https://www.cdnlogo.com/logos/o/70/opel.svg" width="130px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=seat">
                        <img src="https://www.cdnlogo.com/logos/s/40/seat.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=dacia">
                        <img src="https://www.cdnlogo.com/logos/d/32/dacia.svg" width="100px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=audi">
                        <img src="https://www.cdnlogo.com/logos/a/48/audi33.svg" width="130px">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="http://localhost:3000/search?brand=ford">
                        <img src="https://www.cdnlogo.com/logos/f/80/ford.svg" width="150px">
                    </a>
                </div>
            </div>
        </div>
<div class="description">
  <img src="concess.jpg" alt="Description de l'image">
  <div class="overlay"></div>
  <div class="text">
    <p>Découvrez l'excellence automobile chez Yvelines-Auto. Explorez notre vaste sélection de véhicules neufs et d'occasion, alliant performance, confort et élégance. Notre équipe passionnée est là pour vous guider dans le choix de la voiture parfaite pour votre style de vie. Profitez d'une expérience d'achat et de ventes exceptionnelle et faites de chaque trajet une aventure mémorable avec Yvelines-Auto.</p>
  </div>
</div>



        
      <div class="car-options">
    <div class="car-options-container">
       <div class="car-option">
        <style>
          .car-option{
            margin-left: 5%;
          }
        </style>
    <a href="/voitures-disponibles">
        <img src="vendeur1.jpg" alt="Buy a Car">
        <div class="car-option-overlay">
            <h3>Acheter votre voiture de rêves</h3>
        </div>
    </a>
</div>

        </div>
        <div class="car-option" onclick="afficherMessage()">
            <img src="loca.jpg" alt="Rent a Car">
            <div class="car-option-overlay">
                <h3>Reprise de voiture</h3>
            </div>
        </div>
       <a href="/datavoiture" class="car-option">
    <img src="oca.jpg" alt="Sell Your Car">
    <div class="car-option-overlay">
        <h3>Vendez votre voiture</h3>
    </div>
</a>

        </div>
    </div>
</div>

    </section>

    <!-- Inclure Swiper JS après votre contenu HTML -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        // Initialiser Swiper après le chargement de la page
        document.addEventListener('DOMContentLoaded', function () {
            var mySwiper = new Swiper('.car-carousel', {
                // Options du carrousel
                slidesPerView: 'auto',
                spaceBetween: 10,
                loop: true,
                autoplay: {
                    delay: 1000, // Délai entre chaque transition (en millisecondes)
                    disableOnInteraction: false, // Empêcher l'autoplay de s'arrêter lors de l'interaction de l'utilisateur
                },
            });
        });
    </script>
    <script>
    document.getElementById('searchForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Empêche le comportement par défaut du formulaire
        const searchTerm = document.getElementById('brand').value.trim(); // Récupère la valeur du champ de recherche en retirant les espaces
        if (searchTerm) {
            window.location.href = `/search?brand=${encodeURIComponent(searchTerm)}`; // Redirige vers la page de recherche avec le terme de recherche dans l'URL
        }
    });

    // Ajoutez cet événement pour soumettre le formulaire lorsque l'utilisateur appuie sur Entrée
    document.getElementById('brand').addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            document.getElementById('searchForm').dispatchEvent(new Event('submit'));
        }
    });
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const bmwLogo = document.getElementById('bmw-logo');

        bmwLogo.addEventListener('click', async (e) => {
            e.preventDefault();

            try {
                const response = await fetch('/get-bmw-cars', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (!response.ok) {
                    throw new Error('Erreur lors de la récupération des voitures BMW');
                }

                const cars = await response.json();
                // Utilisez les données des voitures BMW récupérées pour afficher ou faire ce que vous voulez
                console.log(cars);
            } catch (error) {
                console.error(error);
            }
        });
    });
</script>

</script>
  <script>
     function afficherMessage() {
        alert(" en cours de preparation !");
    }
    document.addEventListener('DOMContentLoaded', function () {
      const authLinks = document.querySelector('.auth-links');

      // Vérifiez si l'utilisateur est authentifié en session
      const username = '<%= typeof username !== "undefined" ? username : "" %>';
      const userId = '<%= typeof userId !== "undefined" ? userId : "" %>';

      if (username && userId) {
        // Créez un élément pour afficher le nom d'utilisateur et l'ID
        const userInfoElement = document.createElement('div');
        userInfoElement.innerHTML = `Welcome, ${username} (ID: ${userId})`;

        // Ajoutez la classe CSS pour le style
        userInfoElement.classList.add('user-info');

        // Ajoutez l'élément à la barre de navigation
        authLinks.appendChild(userInfoElement);
      } else {
        // Si l'utilisateur n'est pas authentifié, vous pouvez afficher les liens de connexion et d'inscription
        // Mettez ici le code pour les liens de connexion et d'inscription si nécessaire
      }
    });
  </script>

  <script src="app.js"></script> 
</body>

</html>